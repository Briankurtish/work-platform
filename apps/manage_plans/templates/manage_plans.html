{% extends layout_path %}

{% load static %}
{% load i18n %}

{% block title %}Manage Plans{% endblock title %}

{% block vendor_css %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'vendor/libs/apex-charts/apex-charts.css' %}" />
{% endblock vendor_css %}

{% block vendor_js %}
{{ block.super }}
<script src="{% static 'vendor/libs/apex-charts/apexcharts.js' %}"></script>
{% endblock vendor_js %}

{% block page_js %}
{{ block.super }}
<script src="{% static 'js/dashboards-analytics.js' %}"></script>
{% endblock page_js %}

{% block content %}
<div class="row gy-6">
  <h3 class=" mb-0 flex-wrap text-nowrap">Manage Plans</h3>

  <div class="row mt-3">
    <div class="col-md-6">
      <a href="{% url 'add-plan' %}">
      <button type="button" class="btn btn-outline-primary">
        <span class="tf-icons ri-add-circle-fill ri-16px me-1_5"></span>New Plan
      </button> </a>
    </div>
  </div>

  <!-- Hoverable Table rows -->
<div class="card">
  <h5 class="card-header">Plans</h5>
  <div class="table-responsive text-nowrap">
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Plan Name</th>
          <th>Description</th>
          <th>Price</th>
          <th>Profit</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody class="table-border-bottom-0">
        {% for plan in plans %}
        <tr>
          <td><span>{{ plan.name }}</span></td>
          <td>{{ plan.description }}</td>
          <td>
            ${{plan.price}}
          </td>
          <td>{{plan.profit}}</td>
          <td>
            <div class="dropdown">
              <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown"><i class="ri-more-2-line"></i></button>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="{% url 'update-plan' plan.id %}"><i class="ri-pencil-line me-1"></i> Edit</a>
                <a class="dropdown-item" href="{% url 'delete-plan' plan.id %}"><i class="ri-delete-bin-6-line me-1"></i> Delete</a>
              </div>
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<!--/ Hoverable Table rows -->

</div>
{% endblock %}
